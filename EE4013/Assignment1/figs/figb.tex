% Define block styles
\tikzstyle{dblock} = [diamond, draw, text width=4em, text badly centered, inner sep=0pt, minimum height=2.5em]
\tikzstyle{rblock} = [rectangle, draw, text width=2em, text centered, inner sep=0pt, minimum height=1.5em, rounded corners]
\tikzstyle{eblock} = [ellipse, draw, text width=4em, text centered, inner sep=0pt, minimum height=2.5em]
    
\tikzstyle{line} = [draw, -latex']

\begin{tikzpicture}[node distance = 7.5em, auto]
    % Place nodes
	\node (enter) [eblock] {$a, b$};
    \node (start) [eblock, below of=enter, yshift=2em] {$x=a$ \\ $y=b$};
	\node (condition1) [dblock, below of=start, yshift=1em] {$x=0$};
	\node (return1) [rblock, right of=condition1] {$y$};
	\node (condition2) [dblock, below of=condition2, yshift=8em] {$y=0$};
	\node (return2) [rblock, right of=condition2] {$x$};
	\node (condition3) [dblock, below of=condition2] {$x = y$};
	\node (return3) [rblock, right of=condition3] {$x$};
	\node (condition4) [dblock, below of=condition3] {$x > y$};
	\node (modify1) [eblock, left of=condition4, xshift=-0.75em] {$a = y$ \\ $ b = x\%y$};
	\node (condition5) [dblock, below of=condition4] {$x < y$};
	\node (modify2) [eblock, right of=condition5, xshift=3em] {$a = x$ \\ $b = y\%x$};
    % Draw edges
	\path [line] (enter) -- (start);
	\path [line] (start) -- (condition1);
	\path [line] (condition1) -- (condition2);
	\path [line] (condition2) -- (condition3);
	\path [line] (condition3) -- (condition4);
	\path [line] (condition4) -- (condition5);
	\path [line] (condition1) -- (return1);
	\path [line] (condition2) -- (return2);
	\path [line] (condition3) -- (return3);
	\path [line] (condition4) -- (modify1);
	\path [line] (modify1) |- (enter);
	\path [line] (condition5) -- (modify2);	
	\path [line] (modify2) |- (enter);
\end{tikzpicture}
